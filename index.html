<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>MMD Models</title>
    <meta name="description" content="A-Frame MMD loader component">
    <script src="https://aframe.io/releases/0.7.1/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/kripken/ammo.js/dcab07bf0e7f2b4b64c01dc45da846344c8f50be/builds/ammo.js"></script>
    <script src="https://cdn.rawgit.com/takahirox/aframe-outline/v1.1.1/build/aframe-outline.min.js"></script>
    <script src="./build/a-mmd.js"></script>
	<script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.0.1/dist/aframe-extras.min.js"></script>
  </head>
  <body>

<!-- 
The license of MMD assets used here
https://github.com/mrdoob/three.js/tree/dev/examples/models/mmd#readme
-->

    <a-scene antialias="true" outline stats>
      <a-assets>
        <img id="sky" crossorigin="anonymous" src="https://cdn.rawgit.com/aframevr/aframe/v0.7.1/examples/primitives/models/peach-gradient.jpg">
      </a-assets>

	<a-entity id="rig"
          movement-controls="fly: true">
	  <a-entity camera
		    position="0 1.6 0"
		    look-controls="pointerLockEnabled: true">
	  </a-entity>
	</a-entity>
	
      <a-entity mmd="audio:https://cdn.rawgit.com/mrdoob/three.js/r87/examples/models/mmd/audios/wavefile_short.mp3;
                     audioDelayTime:5.333333333333333; afterglow:2.0;">
        <a-entity mmd-model="model:https://cdn.rawgit.com/mrdoob/three.js/r87/examples/models/mmd/miku/miku_v2.pmd;
                             vmd:https://cdn.rawgit.com/mrdoob/three.js/r87/examples/models/mmd/vmds/wavefile_v2.vmd;
                             physics:true;"
                  shadow="cast:true"
                  position="0 0 0"
				  scale = "0.333 0.333 0.333"></a-entity>
      </a-entity>

      <a-plane rotation="-90 0 0"
               color="#AAAAAA"
               height="200"
               width="200"
               shadow="receive:true"></a-plane>

      <a-sky src="#sky"></a-sky>

      <a-entity light="type:directional;
                       castShadow:true;
                       color:#888;
                       shadowMapWidth:1024;
                       shadowMapHeight:1024;
                       shadowCameraRight:20;
                       shadowCameraTop:20;
                       shadowCameraLeft:-20;
                       shadowCameraBottom:-20"
                position="-20 20 20"></a-entity>
    </a-scene>
  </body>
</html>
